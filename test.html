<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Firebase ログインテスト</title>
    <!-- ✅ CDNを compat 版に変更 -->
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
  </head>
  <body>
    <h1>Firebase ログインテスト</h1>
    <button id="loginBtn">Googleでログイン</button>

    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyDDDQeJyFuLp278YPa3-NbeH9B7FS4gJfo",
        authDomain: "kansenki-v2.firebaseapp.com",
        projectId: "kansenki-v2",
        storageBucket: "kansenki-v2.appspot.com",
        messagingSenderId: "855588912968",
        appId: "1:855588912968:web:eb667eef01193941457d7d"
      };

      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const provider = new firebase.auth.GoogleAuthProvider();

      window.onload = function () {
        document.getElementById("loginBtn").onclick = function () {
          auth.signInWithPopup(provider)
            .then((result) => {
              alert("✅ ログイン成功: " + result.user.email);
            })
            .catch((error) => {
              alert("❌ ログイン失敗: " + error.message);
              console.error(error);
            });
        };
      };
    </script>
  </body>
</html>
